function Swipe(a,b){function c(){q=p.children,t=q.length,q.length<2&&(b.continuous=!1),o.transitions&&b.continuous&&q.length<3&&(p.appendChild(q[0].cloneNode(!0)),p.appendChild(p.children[1].cloneNode(!0)),q=p.children),r=new Array(q.length),s=a.getBoundingClientRect().width||a.offsetWidth,p.style.width=q.length*s+"px";var c=q.length;while(c--){var d=q[c];d.style.width=s+"px",d.setAttribute("data-index",c),o.transitions&&(d.style.left=c*-s+"px",h(c,u>c?-s:u<c?s:0,0))}b.continuous&&o.transitions&&(h(f(u-1),-s,0),h(f(u+1),s,0)),o.transitions||(p.style.left=u*-s+"px"),a.style.visibility="visible"}function d(){b.continuous?g(u-1):u&&g(u-1)}function e(){b.continuous?g(u+1):u<q.length-1&&g(u+1)}function f(a){return(q.length+a%q.length)%q.length}function g(a,c){if(u==a)return;if(o.transitions){var d=Math.abs(u-a)/(u-a);if(b.continuous){var e=d;d=-r[f(a)]/s,d!==e&&(a=-d*q.length+a)}var g=Math.abs(u-a)-1;while(g--)h(f((a>u?a:u)-g-1),s*d,0);a=f(a),h(u,s*d,c||v),h(a,0,c||v),b.continuous&&h(f(a-d),-(s*d),0)}else a=f(a),j(u*-s,a*-s,c||v);u=a,n(b.callback&&b.callback(u,q[u]))}function h(a,b,c){i(a,b,c),r[a]=b}function i(a,b,c){var d=q[a],e=d&&d.style;if(!e)return;e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)"+"translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)"}function j(a,c,d){if(!d){p.style.left=c+"px";return}var e=+(new Date),f=setInterval(function(){var g=+(new Date)-e;if(g>d){p.style.left=c+"px",w&&k(),b.transitionEnd&&b.transitionEnd.call(event,u,q[u]),clearInterval(f);return}p.style.left=(c-a)*(Math.floor(g/d*100)/100)+a+"px"},4)}function k(){x=setTimeout(e,w)}function l(){w=0}var m=function(){},n=function(a){setTimeout(a||m,0)},o={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(a.style[b[c]]!==undefined)return!0;return!1}(document.createElement("swipe"))};if(!a)return;var p=a.children[0],q,r,s,t;b=b||{};var u=parseInt(b.startSlide,10)||0,v=b.speed||700;b.continuous=b.continuous!==undefined?b.continuous:!0;var w=b.auto||0,x,y={},z={},A,B={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":n(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":n(this.transitionEnd(a));break;case"resize":n(c.call())}b.stopPropagation&&a.stopPropagation()},start:function(a){var b=a.touches[0];y={x:b.pageX,y:b.pageY,time:+(new Date)},A=undefined,z={},p.addEventListener("touchmove",this,!1),p.addEventListener("touchend",this,!1)},move:function(a){if(a.touches.length>1||a.scale&&a.scale!==1)return;b.disableScroll&&a.preventDefault();var c=a.touches[0];z={x:c.pageX-y.x,y:c.pageY-y.y},typeof A=="undefined"&&(A=!!(A||Math.abs(z.x)<Math.abs(z.y))),A||(a.preventDefault(),l(),b.continuous?(i(f(u-1),z.x+r[f(u-1)],0),i(u,z.x+r[u],0),i(f(u+1),z.x+r[f(u+1)],0)):(z.x=z.x/(!u&&z.x>0||u==q.length-1&&z.x<0?Math.abs(z.x)/s+1:1),i(u-1,z.x+r[u-1],0),i(u,z.x+r[u],0),i(u+1,z.x+r[u+1],0)))},end:function(a){var c=+(new Date)-y.time,d=Number(c)<250&&Math.abs(z.x)>20||Math.abs(z.x)>s/2,e=!u&&z.x>0||u==q.length-1&&z.x<0;b.continuous&&(e=!1);var g=z.x<0;A||(d&&!e?(g?(b.continuous?(h(f(u-1),-s,0),h(f(u+2),s,0)):h(u-1,-s,0),h(u,r[u]-s,v),h(f(u+1),r[f(u+1)]-s,v),u=f(u+1)):(b.continuous?(h(f(u+1),s,0),h(f(u-2),-s,0)):h(u+1,s,0),h(u,r[u]+s,v),h(f(u-1),r[f(u-1)]+s,v),u=f(u-1)),b.callback&&b.callback(u,q[u])):b.continuous?(h(f(u-1),-s,v),h(u,0,v),h(f(u+1),s,v)):(h(u-1,-s,v),h(u,0,v),h(u+1,s,v))),p.removeEventListener("touchmove",B,!1),p.removeEventListener("touchend",B,!1)},transitionEnd:function(a){parseInt(a.target.getAttribute("data-index"),10)==u&&(w&&k(),b.transitionEnd&&b.transitionEnd.call(a,u,q[u]))}};return c(),w&&k(),o.addEventListener?(o.touch&&p.addEventListener("touchstart",B,!1),o.transitions&&(p.addEventListener("webkitTransitionEnd",B,!1),p.addEventListener("msTransitionEnd",B,!1),p.addEventListener("oTransitionEnd",B,!1),p.addEventListener("otransitionend",B,!1),p.addEventListener("transitionend",B,!1)),window.addEventListener("resize",B,!1)):window.onresize=function(){c()},{setup:function(){c()},slide:function(a,b){l(),g(a,b)},prev:function(){l(),d()},next:function(){l(),e()},getPos:function(){return u},getNumSlides:function(){return t},kill:function(){l(),p.style.width="auto",p.style.left=0;var a=q.length;while(a--){var b=q[a];b.style.width="100%",b.style.left=0,o.transitions&&i(a,0,0)}o.addEventListener?(p.removeEventListener("touchstart",B,!1),p.removeEventListener("webkitTransitionEnd",B,!1),p.removeEventListener("msTransitionEnd",B,!1),p.removeEventListener("oTransitionEnd",B,!1),p.removeEventListener("otransitionend",B,!1),p.removeEventListener("transitionend",B,!1),window.removeEventListener("resize",B,!1)):window.onresize=null}}}(window.jQuery||window.Zepto)&&function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}}(window.jQuery||window.Zepto)